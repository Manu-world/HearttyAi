{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { jwtDecode } from \"jwt-decode\";\nexport const useAuth = () => {\n  _s();\n  const [token, setToken] = useState(localStorage.getItem(\"token\"));\n  const [userRole, setUserRole] = useState(\"\");\n  useEffect(() => {\n    if (token) {\n      const decodedToken = jwtDecode(token);\n      setUserRole(decodedToken.role);\n    }\n  }, [token]);\n\n  // Update the token in the local storage\n  useEffect(() => {\n    localStorage.setItem(\"token\", token);\n  }, [token]);\n  return {\n    token,\n    userRole\n  };\n};\n_s(useAuth, \"ytpanaBp2AkKsLcNsfywxN2nZJk=\");","map":{"version":3,"names":["useState","useEffect","jwtDecode","useAuth","_s","token","setToken","localStorage","getItem","userRole","setUserRole","decodedToken","role","setItem"],"sources":["/home/manu/Documents/heartyAi/frontend/src/provider/useAuth.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { jwtDecode } from \"jwt-decode\";\n\nexport const useAuth = () => {\n  const [token, setToken] = useState(localStorage.getItem(\"token\"));\n  const [userRole, setUserRole] = useState(\"\");\n\n  useEffect(() => {\n    if (token) {\n      const decodedToken = jwtDecode(token);\n      setUserRole(decodedToken.role);\n    }\n  }, [token]);\n\n  // Update the token in the local storage\n  useEffect(() => {\n    localStorage.setItem(\"token\", token);\n  }, [token]);\n\n  return { token, userRole };\n};\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,SAAS,QAAQ,YAAY;AAEtC,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAACO,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC;EACjE,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd,IAAII,KAAK,EAAE;MACT,MAAMM,YAAY,GAAGT,SAAS,CAACG,KAAK,CAAC;MACrCK,WAAW,CAACC,YAAY,CAACC,IAAI,CAAC;IAChC;EACF,CAAC,EAAE,CAACP,KAAK,CAAC,CAAC;;EAEX;EACAJ,SAAS,CAAC,MAAM;IACdM,YAAY,CAACM,OAAO,CAAC,OAAO,EAAER,KAAK,CAAC;EACtC,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EAEX,OAAO;IAAEA,KAAK;IAAEI;EAAS,CAAC;AAC5B,CAAC;AAACL,EAAA,CAjBWD,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}