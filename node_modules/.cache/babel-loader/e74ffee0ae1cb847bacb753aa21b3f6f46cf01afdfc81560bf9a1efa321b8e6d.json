{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport jwtDecode from \"jwt-decode\";\nexport const useAuth = () => {\n  _s();\n  const [token, setToken] = useState(localStorage.getItem(\"token\"));\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [userRole, setUserRole] = useState(\"\");\n  useEffect(() => {\n    if (token) {\n      const decodedToken = jwtDecode(token);\n      setUserEmail(decodedToken.email);\n      setUserRole(decodedToken.role);\n    }\n  }, [token]);\n  useEffect(() => {\n    localStorage.setItem(\"token\", token);\n  }, [token]);\n  return {\n    token,\n    userEmail,\n    userRole\n  };\n};\n_s(useAuth, \"ZmoVfXH6RWWMWNv6+dOBinmrI1M=\");","map":{"version":3,"names":["useState","useEffect","jwtDecode","useAuth","_s","token","setToken","localStorage","getItem","userEmail","setUserEmail","userRole","setUserRole","decodedToken","email","role","setItem"],"sources":["/home/manu/Documents/heartyAi/frontend/src/provider/useAuth.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport jwtDecode from \"jwt-decode\";\n\nexport const useAuth = () => {\n  const [token, setToken] = useState(localStorage.getItem(\"token\"));\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [userRole, setUserRole] = useState(\"\");\n\n  useEffect(() => {\n    if (token) {\n      const decodedToken = jwtDecode(token);\n      setUserEmail(decodedToken.email);\n      setUserRole(decodedToken.role);\n    }\n  }, [token]);\n\n  useEffect(() => {\n    localStorage.setItem(\"token\", token);\n  }, [token]);\n\n  return { token, userEmail, userRole };\n};\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,SAAS,MAAM,YAAY;AAElC,OAAO,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAACO,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC;EACjE,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACW,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd,IAAII,KAAK,EAAE;MACT,MAAMQ,YAAY,GAAGX,SAAS,CAACG,KAAK,CAAC;MACrCK,YAAY,CAACG,YAAY,CAACC,KAAK,CAAC;MAChCF,WAAW,CAACC,YAAY,CAACE,IAAI,CAAC;IAChC;EACF,CAAC,EAAE,CAACV,KAAK,CAAC,CAAC;EAEXJ,SAAS,CAAC,MAAM;IACdM,YAAY,CAACS,OAAO,CAAC,OAAO,EAAEX,KAAK,CAAC;EACtC,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EAEX,OAAO;IAAEA,KAAK;IAAEI,SAAS;IAAEE;EAAS,CAAC;AACvC,CAAC;AAACP,EAAA,CAlBWD,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}